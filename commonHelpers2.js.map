{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-form.js"],"sourcesContent":["'use strict';\n\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\nconst formData = {};\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  input: document.querySelector('input[name=email]'),\n  textarea: document.querySelector('textarea[name=message]'),\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', onFormInput);\n\npopulateForm();\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  if (formData.email === '' || formData.message === '') {\n    return alert('All form fields must be filled in');\n  }\n\n  console.log(formData);\n  formData.email = '';\n  formData.message = '';\n  event.currentTarget.reset();\n  localStorage.removeItem(LOCALSTORAGE_KEY);\n}\n\nfunction onFormInput(event) {\n  formData[event.target.name] = event.target.value;\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction populateForm() {\n  const savedInputEl = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n\n  if (savedInputEl) {\n    refs.input.value = savedInputEl.email || '';\n    refs.textarea.value = savedInputEl.message || '';\n    formData.email = savedInputEl.email || '';\n    formData.message = savedInputEl.message || '';\n  }\n}"],"names":["LOCALSTORAGE_KEY","formData","refs","onFormSubmit","onFormInput","populateForm","event","savedInputEl"],"mappings":"wFAEA,MAAMA,EAAmB,sBACnBC,EAAW,CAAA,EACXC,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,mBAAmB,EACjD,SAAU,SAAS,cAAc,wBAAwB,CAC3D,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EACjDD,EAAK,KAAK,iBAAiB,QAASE,CAAW,EAE/CC,IAEA,SAASF,EAAaG,EAAO,CAG3B,GAFAA,EAAM,eAAc,EAEhBL,EAAS,QAAU,IAAMA,EAAS,UAAY,GAChD,OAAO,MAAM,mCAAmC,EAGlD,QAAQ,IAAIA,CAAQ,EACpBA,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBK,EAAM,cAAc,QACpB,aAAa,WAAWN,CAAgB,CAC1C,CAEA,SAASI,EAAYE,EAAO,CAC1BL,EAASK,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAC3C,aAAa,QAAQN,EAAkB,KAAK,UAAUC,CAAQ,CAAC,CACjE,CAEA,SAASI,GAAe,CACtB,MAAME,EAAe,KAAK,MAAM,aAAa,QAAQP,CAAgB,CAAC,EAElEO,IACFL,EAAK,MAAM,MAAQK,EAAa,OAAS,GACzCL,EAAK,SAAS,MAAQK,EAAa,SAAW,GAC9CN,EAAS,MAAQM,EAAa,OAAS,GACvCN,EAAS,QAAUM,EAAa,SAAW,GAE/C"}